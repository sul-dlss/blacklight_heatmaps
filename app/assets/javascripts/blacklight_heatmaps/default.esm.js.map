{"version":3,"file":"default.esm.js","sources":["../../../../vendor/assets/javascripts/geostats.js","../../../../vendor/assets/javascripts/leaflet_solr_heatmap.js","../../../javascript/basemaps.js","../../../javascript/icons.js","../../../javascript/viewers/index.js","../../../javascript/viewers/show.js","../../../javascript/blacklight_heatmaps.js"],"sourcesContent":["/**\n* geostats() is a tiny and standalone javascript library for classification\n* Project page - https://github.com/simogeo/geostats\n* Copyright (c) 2011 Simon Georget, http://www.intermezzo-coop.eu\n* Licensed under the MIT license\n*/\n\n\n(function (definition) {\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.\n\n    // CommonJS\n    if (typeof exports === \"object\") {\n        module.exports = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        define(definition);\n\n    // <script>\n    } else {\n        geostats = definition();\n    }\n\n})(function () {\n\nvar isInt = function(n) {\n   return typeof n === 'number' && parseFloat(n) == parseInt(n, 10) && !isNaN(n);\n} // 6 characters\n\nvar _t = function(str) {\n\treturn str;\n};\n\n//taking from http://stackoverflow.com/questions/18082/validate-decimal-numbers-in-javascript-isnumeric\nvar isNumber = function(n) {\n\t  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n\n\n//indexOf polyfill\n// from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf\nif (!Array.prototype.indexOf) {\n    Array.prototype.indexOf = function (searchElement, fromIndex) {\n      if ( this === undefined || this === null ) {\n        throw new TypeError( '\"this\" is null or not defined' );\n      }\n\n      var length = this.length >>> 0; // Hack to convert object.length to a UInt32\n\n      fromIndex = +fromIndex || 0;\n\n      if (Math.abs(fromIndex) === Infinity) {\n        fromIndex = 0;\n      }\n\n      if (fromIndex < 0) {\n        fromIndex += length;\n        if (fromIndex < 0) {\n          fromIndex = 0;\n        }\n      }\n\n      for (;fromIndex < length; fromIndex++) {\n        if (this[fromIndex] === searchElement) {\n          return fromIndex;\n        }\n      }\n\n      return -1;\n    };\n  }\n\nvar geostats = function(a) {\n\n\tthis.objectID = '';\n\tthis.separator = ' - ';\n\tthis.legendSeparator = this.separator;\n\tthis.method  = '';\n\tthis.precision = 0;\n\tthis.precisionflag = 'auto';\n\tthis.roundlength \t= 2; // Number of decimals, round values\n\tthis.is_uniqueValues = false;\n\tthis.debug =  false;\n\tthis.silent = false;\n\n\tthis.bounds  = Array();\n\tthis.ranges  = Array();\n\tthis.inner_ranges  = null;\n\tthis.colors  = Array();\n\tthis.counter = Array();\n\n\t// statistics information\n\tthis.stat_sorted\t= null;\n\tthis.stat_mean \t\t= null;\n\tthis.stat_median \t= null;\n\tthis.stat_sum \t\t= null;\n\tthis.stat_max \t\t= null;\n\tthis.stat_min \t\t= null;\n\tthis.stat_pop \t\t= null;\n\tthis.stat_variance\t= null;\n\tthis.stat_stddev\t= null;\n\tthis.stat_cov\t\t= null;\n\n\n\t/**\n\t * logging method\n\t */\n\tthis.log = function(msg, force) {\n\n\t\tif(this.debug == true || force != null)\n\t\t\tconsole.log(this.objectID + \"(object id) :: \" + msg);\n\n\t};\n\n\t/**\n\t * Set bounds\n\t */\n\tthis.setBounds = function(a) {\n\n\t\tthis.log('Setting bounds (' + a.length + ') : ' + a.join());\n\n\t\tthis.bounds = Array() // init empty array to prevent bug when calling classification after another with less items (sample getQuantile(6) and getQuantile(4))\n\n\t\tthis.bounds = a;\n\t\t//this.bounds = this.decimalFormat(a);\n\n\t};\n\n\t/**\n\t * Set a new serie\n\t */\n\tthis.setSerie = function(a) {\n\n\t\tthis.log('Setting serie (' + a.length + ') : ' + a.join());\n\n\t\tthis.serie = Array() // init empty array to prevent bug when calling classification after another with less items (sample getQuantile(6) and getQuantile(4))\n\t\tthis.serie = a;\n\n\t\t//reset statistics after changing serie\n\t    this.resetStatistics();\n\n\t\tthis.setPrecision();\n\n\t};\n\n\t/**\n\t * Set colors\n\t */\n\tthis.setColors = function(colors) {\n\n\t\tthis.log('Setting color ramp (' + colors.length + ') : '  + colors.join());\n\n\t\tthis.colors = colors;\n\n\t};\n\n\t/**\n\t * Get feature count\n\t * With bounds array(0, 0.75, 1.5, 2.25, 3);\n\t * should populate this.counter with 5 keys\n\t * and increment counters for each key\n\t */\n\tthis.doCount = function() {\n\n\t\tif (this._nodata())\n\t\t\treturn;\n\n\n\t\tvar tmp = this.sorted();\n\n\t\tthis.counter = new Array();\n\n\t\t// we init counter with 0 value\n\t\tif(this.is_uniqueValues == true) {\n\t\t\tfor (var i = 0; i < this.bounds.length; i++) {\n\t\t\t\tthis.counter[i]= 0;\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var i = 0; i < this.bounds.length -1; i++) {\n\t\t\t\tthis.counter[i]= 0;\n\t\t\t}\n\t\t}\n\n\t\tfor (var j=0; j < tmp.length; j++) {\n\n\t\t\t// get current class for value to increment the counter\n\t\t\tvar cclass = this.getClass(tmp[j]);\n\t\t\tthis.counter[cclass]++;\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Set decimal precision according to user input\n\t * or automatcally determined according\n\t * to the given serie.\n\t */\n\tthis.setPrecision = function(decimals) {\n\n\t\t// only when called from user\n\t\tif(typeof decimals !== \"undefined\") {\n\t\t\tthis.precisionflag = 'manual';\n\t\t\tthis.precision = decimals;\n\t\t}\n\n\t\t// we calculate the maximal decimal length on given serie\n\t\tif(this.precisionflag == 'auto') {\n\n\t\t\tfor (var i = 0; i < this.serie.length; i++) {\n\n\t\t\t\t// check if the given value is a number and a float\n\t\t\t\tif (!isNaN((this.serie[i]+\"\")) && (this.serie[i]+\"\").toString().indexOf('.') != -1) {\n\t\t\t\t\tvar precision = (this.serie[i] + \"\").split(\".\")[1].length;\n\t\t\t\t} else {\n\t\t\t\t\tvar precision = 0;\n\t\t\t\t}\n\n\t\t\t\tif(precision > this.precision) {\n\t\t\t\t\tthis.precision = precision;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\t\tif(this.precision > 20) {\n\t\t\t// prevent \"Uncaught RangeError: toFixed() digits argument must be between 0 and 20\" bug. See https://github.com/simogeo/geostats/issues/34\n\t\t\tthis.log('this.precision value (' + this.precision + ') is greater than max value. Automatic set-up to 20 to prevent \"Uncaught RangeError: toFixed()\" when calling decimalFormat() method.');\n\t\t\tthis.precision = 20;\n\t\t}\n\n\t\tthis.log('Calling setPrecision(). Mode : ' + this.precisionflag + ' - Decimals : '+ this.precision);\n\n\t\tthis.serie = this.decimalFormat(this.serie);\n\n\t};\n\n\t/**\n\t * Format array numbers regarding to precision\n\t */\n\tthis.decimalFormat = function(a) {\n\n\t\tvar b = new Array();\n\n\t\tfor (var i = 0; i < a.length; i++) {\n\t\t\t// check if the given value is a number\n\t\t\tif (isNumber(a[i])) {\n\t\t\t\tb[i] = parseFloat(parseFloat(a[i]).toFixed(this.precision));\n\t\t\t} else {\n\t\t\t\tb[i] = a[i];\n\t\t\t}\n\t\t}\n\n\t\treturn b;\n\t}\n\n\t/**\n\t * Transform a bounds array to a range array the following array : array(0,\n\t * 0.75, 1.5, 2.25, 3); becomes : array('0-0.75', '0.75-1.5', '1.5-2.25',\n\t * '2.25-3');\n\t */\n\tthis.setRanges = function() {\n\n\t\tthis.ranges = Array(); // init empty array to prevent bug when calling classification after another with less items (sample getQuantile(6) and getQuantile(4))\n\n\t\tfor (var i = 0; i < (this.bounds.length - 1); i++) {\n\t\t\tthis.ranges[i] = this.bounds[i] + this.separator + this.bounds[i + 1];\n\t\t}\n\t};\n\n\t/** return min value */\n\tthis.min = function(exclude = []) {\n\n\t\tif (this._nodata())\n\t\t\treturn;\n\n\t\tif(!exclude.includes(this.serie[0])) this.stat_min = this.serie[0];\n\t\telse this.stat_min = 999999999999;\n\n\n\t\tfor (var i = 0; i < this.pop(); i++) {\n\t\t\tif (this.serie[i] < this.stat_min && !exclude.includes(this.serie[i])) {\n\t\t\t\tthis.stat_min = this.serie[i];\n\t\t\t}\n\t\t}\n\n\t\treturn this.stat_min;\n\t};\n\n\t/** return max value */\n\tthis.max = function(exclude = []) {\n\n\t\tif (this._nodata())\n\t\t\treturn;\n\n\t\tif(!exclude.includes(this.serie[0])) this.stat_max = this.serie[0];\n\t\telse this.stat_max = -999999999999;\n\n\t\tfor (var i = 0; i < this.pop(); i++) {\n\t\t\tif (this.serie[i] > this.stat_max && !exclude.includes(this.serie[i])) {\n\t\t\t\tthis.stat_max = this.serie[i];\n\t\t\t}\n\t\t}\n\n\t\treturn this.stat_max;\n\t};\n\n\t/** return sum value */\n\tthis.sum = function() {\n\n\t\tif (this._nodata())\n\t\t\treturn;\n\n\t\tif (this.stat_sum  == null) {\n\n\t\t\tthis.stat_sum = 0;\n\t\t\tfor (var i = 0; i < this.pop(); i++) {\n\t\t\t\tthis.stat_sum += parseFloat(this.serie[i]);\n\t\t\t}\n\n\t\t}\n\n\t\treturn this.stat_sum;\n\t};\n\n\t/** return population number */\n\tthis.pop = function() {\n\n\t\tif (this._nodata())\n\t\t\treturn;\n\n\t\tif (this.stat_pop  == null) {\n\n\t\t\tthis.stat_pop = this.serie.length;\n\n\t\t}\n\n\t\treturn this.stat_pop;\n\t};\n\n\t/** return mean value */\n\tthis.mean = function() {\n\n\t\tif (this._nodata())\n\t\t\treturn;\n\n\t\tif (this.stat_mean  == null) {\n\n\t\t\tthis.stat_mean = parseFloat(this.sum() / this.pop());\n\n\t\t}\n\n\t\treturn this.stat_mean;\n\t};\n\n\t/** return median value */\n\tthis.median = function() {\n\n\t\tif (this._nodata())\n\t\t\treturn;\n\n\t\tif (this.stat_median  == null) {\n\n\t\t\tthis.stat_median = 0;\n\t\t\tvar tmp = this.sorted();\n\n\t\t\t// serie pop is odd\n\t\t\tif (tmp.length % 2) {\n\t\t\t\tthis.stat_median = parseFloat(tmp[(Math.ceil(tmp.length / 2) - 1)]);\n\n\t\t\t// serie pop is even\n\t\t\t} else {\n\t\t\t\tthis.stat_median = ( parseFloat(tmp[((tmp.length / 2) - 1)]) + parseFloat(tmp[(tmp.length / 2)]) ) / 2;\n\t\t\t}\n\n\t\t}\n\n\t\treturn this.stat_median;\n\t};\n\n\t/** return variance value */\n\tthis.variance = function() {\n\n\t\tvar round = (typeof round === \"undefined\") ? true : false;\n\n\t\tif (this._nodata())\n\t\t\treturn;\n\n\t\tif (this.stat_variance  == null) {\n\n\t\t\tvar tmp = 0, serie_mean = this.mean();\n\t\t\tfor (var i = 0; i < this.pop(); i++) {\n\t\t\t\ttmp += Math.pow( (this.serie[i] - serie_mean), 2 );\n\t\t\t}\n\n\t\t\tthis.stat_variance =  tmp / this.pop();\n\n\t\t\tif(round == true) {\n\t\t\t\tthis.stat_variance = Math.round(this.stat_variance * Math.pow(10,this.roundlength) )/ Math.pow(10,this.roundlength);\n\t\t\t}\n\n\t\t}\n\n\t\treturn this.stat_variance;\n\t};\n\n\t/** return standard deviation value */\n\tthis.stddev = function(round) {\n\n\t\tvar round = (typeof round === \"undefined\") ? true : false;\n\n\t\tif (this._nodata())\n\t\t\treturn;\n\n\t\tif (this.stat_stddev  == null) {\n\n\t\t\tthis.stat_stddev = Math.sqrt(this.variance());\n\n\t\t\tif(round == true) {\n\t\t\t\tthis.stat_stddev = Math.round(this.stat_stddev * Math.pow(10,this.roundlength) )/ Math.pow(10,this.roundlength);\n\t\t\t}\n\n\t\t}\n\n\t\treturn this.stat_stddev;\n\t};\n\n\t/** coefficient of variation - measure of dispersion */\n\tthis.cov = function(round) {\n\n\t\tvar round = (typeof round === \"undefined\") ? true : false;\n\n\t\tif (this._nodata())\n\t\t\treturn;\n\n\t\tif (this.stat_cov  == null) {\n\n\t\t\tthis.stat_cov = this.stddev() / this.mean();\n\n\t\t\tif(round == true) {\n\t\t\t\tthis.stat_cov = Math.round(this.stat_cov * Math.pow(10,this.roundlength) )/ Math.pow(10,this.roundlength);\n\t\t\t}\n\n\t\t}\n\n\t\treturn this.stat_cov;\n\t};\n\n\t/** reset all attributes after setting a new serie */\n\tthis.resetStatistics = function() {\n\t    this.stat_sorted    = null;\n\t    this.stat_mean  = null;\n\t    this.stat_median    = null;\n\t    this.stat_sum       = null;\n\t    this.stat_max       = null;\n\t    this.stat_min       = null;\n\t    this.stat_pop       = null;\n\t    this.stat_variance  = null;\n\t    this.stat_stddev    = null;\n\t    this.stat_cov       = null;\n\t}\n\n\t/** data test */\n\tthis._nodata = function() {\n\t\tif (this.serie.length == 0) {\n\n\t\t\tif(this.silent) this.log(\"[silent mode] Error. You should first enter a serie!\", true);\n\t\t\telse throw new TypeError(\"Error. You should first enter a serie!\");\n\t\t\treturn 1;\n\t\t} else\n\t\t\treturn 0;\n\n\t};\n\n\t/** data test */\n\tthis._classificationCheck = function(nbClass) {\n\n\t\tif(nbClass >= this.pop()) {\n\t\t\tvar errnum ='Error. ' + nbClass + ' classes are defined for only ' + this.pop() + ' values in serie ! For the current serie, no more than ' + (this.pop() - 1 ) + ' classes can be defined.';\n\n\t\t\tif(this.silent) this.log(errnum, true);\n\t\t\telse {\n\t\t\t\talert(errnum);\n\t\t\t\tthrow new TypeError(errnum);\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\t/** ensure nbClass is an integer */\n\tthis._nbClassInt = function(nbClass) {\n\n\t\tvar nbclassTmp = parseInt(nbClass, 10);\n\t\tif (isNaN(nbclassTmp)) {\n\t\t\tif(this.silent) this.log(\"[silent mode] '\" + nbclassTmp + \"' is not a valid integer. Enable to set class number.\", true);\n\t\t\telse throw new TypeError(\"'\" + nbclassTmp + \"' is not a valid integer. Enable to set class number.\");\n\t\t} else {\n\t\t\treturn nbclassTmp;\n\t\t}\n\n\t};\n\n\t/** check if the serie contains negative value */\n\tthis._hasNegativeValue = function() {\n\n\t\tfor (var i = 0; i < this.serie.length; i++) {\n\t    \tif(this.serie[i] < 0)\n\t    \t\treturn true;\n\t    }\n\n\t\treturn false;\n\t};\n\n\t/** check if the serie contains zero value */\n\tthis._hasZeroValue = function() {\n\n\t\tfor (var i = 0; i < this.serie.length; i++) {\n\t    \tif(parseFloat(this.serie[i]) === 0)\n\t    \t\treturn true;\n\t    }\n\n\t\treturn false;\n\t};\n\n\t/** return sorted values (as array) */\n\tthis.sorted = function() {\n\n\t\tif (this.stat_sorted  == null) {\n\n\t\t\tif(this.is_uniqueValues == false) {\n\t\t\t\tthis.stat_sorted = this.serie.sort(function(a, b) {\n\t\t\t\t\treturn a - b;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.stat_sorted = this.serie.sort(function(a,b){\n\t\t\t\t\tvar nameA=a.toString().toLowerCase(), nameB=b.toString().toLowerCase();\n\t\t\t\t    if(nameA < nameB) return -1;\n\t\t\t\t    if(nameA > nameB) return 1;\n\t\t\t\t    return 0;\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\treturn this.stat_sorted;\n\n\t};\n\n\t/** return all info */\n\tthis.info = function() {\n\n\t\tif (this._nodata())\n\t\t\treturn;\n\n\t\tvar content = '';\n\t\tcontent += _t('Population') + ' : ' + this.pop() + ' - [' + _t('Min')\n\t\t\t\t+ ' : ' + this.min() + ' | ' + _t('Max') + ' : ' + this.max()\n\t\t\t\t+ ']' + \"\\n\";\n\t\tcontent += _t('Mean') + ' : ' + this.mean() + ' - ' + _t('Median')\t+ ' : ' + this.median() + \"\\n\";\n\t\tcontent += _t('Variance') + ' : ' + this.variance() + ' - ' + _t('Standard deviation')\t+ ' : ' + this.stddev()\n\t\t\t\t+ ' - ' + _t('Coefficient of variation')\t+ ' : ' + this.cov() + \"\\n\";\n\n\t\treturn content;\n\t};\n\n\t/**\n\t * Set Manual classification Return an array with bounds : ie array(0,\n\t * 0.75, 1.5, 2.25, 3);\n\t * Set ranges and prepare data for displaying legend\n\t *\n\t */\n\tthis.setClassManually = function(array) {\n\n\t\tif (this._nodata())\n\t        return;\n\n\t    if(array[0] !== this.min() || array[array.length-1] !== this.max()) {\n\t    \tif(this.silent) this.log(\"[silent mode] \" + t('Given bounds may not be correct! please check your input.\\nMin value : ' + this.min() + ' / Max value : ' + this.max()), true);\n\t\t\telse throw new TypeError(_t('Given bounds may not be correct! please check your input.\\nMin value : ' + this.min() + ' / Max value : ' + this.max()));\n\t    \treturn;\n\t    }\n\n\t    this.setBounds(array);\n\t    this.setRanges();\n\n\t    // we specify the classification method\n\t    this.method = _t('manual classification') + ' (' + (array.length -1) + ' ' + _t('classes') + ')';\n\n\t    return this.bounds;\n\t};\n\n\t/**\n\t * Equal intervals classification Return an array with bounds : ie array(0,\n\t * 0.75, 1.5, 2.25, 3);\n\t */\n\tthis.getClassEqInterval = function(nbClass, forceMin, forceMax) {\n\n\t\tvar nbClass = this._nbClassInt(nbClass); // ensure nbClass is an integer\n\n\t\tif (this._nodata())\n\t        return;\n\n\t\tvar tmpMin = (typeof forceMin === \"undefined\") ? this.min() : forceMin;\n\t\tvar tmpMax = (typeof forceMax === \"undefined\") ? this.max() : forceMax;\n\n\t    var a = Array();\n\t    var val = tmpMin;\n\t    var interval = (tmpMax - tmpMin) / nbClass;\n\n\t    for (var i = 0; i <= nbClass; i++) {\n\t        a[i] = val;\n\t        val += interval;\n\t    }\n\n\t    //-> Fix last bound to Max of values\n\t    a[nbClass] = tmpMax;\n\n\t    this.setBounds(a);\n\t    this.setRanges();\n\n\t    // we specify the classification method\n\t    this.method = _t('eq. intervals') + ' (' + nbClass + ' ' + _t('classes') + ')';\n\n\t    return this.bounds;\n\t};\n\n\n\tthis.getQuantiles = function(nbClass) {\n\n\t\tvar nbClass = this._nbClassInt(nbClass); // ensure nbClass is an integer\n\n\t\tvar tmp = this.sorted();\n\t\tvar quantiles = [];\n\n\t\tvar step = this.pop() / nbClass;\n\t\tfor (var i = 1; i < nbClass; i++) {\n\t\t\tvar qidx = Math.round(i*step+0.49);\n\t\t\tquantiles.push(tmp[qidx-1]); // zero-based\n\t\t}\n\n\t\treturn quantiles;\n\t};\n\n\t/**\n\t * Quantile classification Return an array with bounds : ie array(0, 0.75,\n\t * 1.5, 2.25, 3);\n\t */\n\tthis.getClassQuantile = function(nbClass) {\n\n\t\tvar nbClass = this._nbClassInt(nbClass); // ensure nbClass is an integer\n\n\t\tif (this._nodata())\n\t\t\treturn;\n\n\t\tthis._classificationCheck(nbClass); // be sure number of classes is valid\n\n\t\tvar tmp = this.sorted();\n\t\tvar bounds = this.getQuantiles(nbClass);\n\t\tbounds.unshift(tmp[0]);\n\n\t\tif (bounds[tmp.length - 1] !== tmp[tmp.length - 1])\n\t\t\tbounds.push(tmp[tmp.length - 1]);\n\n\t\tthis.setBounds(bounds);\n\t\tthis.setRanges();\n\n\t\t// we specify the classification method\n\t\tthis.method = _t('quantile') + ' (' + nbClass + ' ' + _t('classes') + ')';\n\n\t\treturn this.bounds;\n\n\t};\n\n\t/**\n\t * Standard Deviation classification\n\t * Return an array with bounds : ie array(0,\n\t * 0.75, 1.5, 2.25, 3);\n\t */\n\tthis.getClassStdDeviation = function(nbClass, matchBounds) {\n\n\t\tvar nbClass = this._nbClassInt(nbClass); // ensure nbClass is an integer\n\n\t\tif (this._nodata())\n\t        return;\n\n\t    var tmpMax = this.max();\n\t\tvar tmpMin = this.min();\n\t\tvar tmpStdDev = this.stddev();\n\t\tvar tmpMean = this.mean();\n\n\t    var a = Array();\n\n\t    // number of classes is odd\n\t    if(nbClass % 2 == 1) {\n\n\t    \t// Euclidean division to get the inferior bound\n\t    \tvar infBound = Math.floor(nbClass / 2);\n\n\t    \tvar supBound = infBound + 1;\n\n\t    \t// we set the central bounds\n\t    \ta[infBound] = tmpMean - (tmpStdDev / 2);\n\t    \ta[supBound] = tmpMean + (tmpStdDev / 2);\n\n\t    \t// Values < to infBound, except first one\n\t    \tfor (var i = infBound - 1; i > 0; i--) {\n\t    \t\tvar val = a[i+1] - tmpStdDev;\n\t\t        a[i] = val;\n\t\t    }\n\n\t    \t// Values > to supBound, except last one\n\t    \tfor (var i = supBound + 1; i < nbClass; i++) {\n\t    \t\tvar val = a[i-1] + tmpStdDev;\n\t\t        a[i] = val;\n\t\t    }\n\n\t    \t// number of classes is even\n\t    } else {\n\n\t    \tvar meanBound = nbClass / 2;\n\n\t    \t// we get the mean value\n\t    \ta[meanBound] = tmpMean;\n\n\t    \t// Values < to the mean, except first one\n\t    \tfor (var i = meanBound - 1; i > 0; i--) {\n\t    \t\tvar val = a[i+1] - tmpStdDev;\n\t\t        a[i] = val;\n\t\t    }\n\n\t    \t// Values > to the mean, except last one\n\t    \tfor (var i = meanBound + 1; i < nbClass; i++) {\n\t    \t\tvar val = a[i-1] + tmpStdDev;\n\t\t        a[i] = val;\n\t\t    }\n\t    }\n\n\n\t    // we finally set the first value\n\t    // do we excatly match min value or not ?\n\t    a[0] = (typeof matchBounds === \"undefined\") ? a[1]- tmpStdDev : tmpMin;\n\n    \t// we finally set the last value\n\t    // do we excatly match max value or not ?\n    \ta[nbClass] = (typeof matchBounds === \"undefined\") ? a[nbClass-1] + tmpStdDev : tmpMax;\n\n\t    this.setBounds(a);\n\t    this.setRanges();\n\n\t    // we specify the classification method\n\t    this.method = _t('std deviation') + ' (' + nbClass + ' ' + _t('classes')+ ')';\n\n\t    return this.bounds;\n\t};\n\n\n\t/**\n\t * Geometric Progression classification\n\t * http://en.wikipedia.org/wiki/Geometric_progression\n\t * Return an array with bounds : ie array(0,\n\t * 0.75, 1.5, 2.25, 3);\n\t */\n\tthis.getClassGeometricProgression = function(nbClass) {\n\n\t\tvar nbClass = this._nbClassInt(nbClass); // ensure nbClass is an integer\n\n\t\tif (this._nodata())\n\t        return;\n\n\t    if(this._hasNegativeValue() || this._hasZeroValue()) {\n\t    \tif(this.silent) this.log(\"[silent mode] \" + _t('geometric progression can\\'t be applied with a serie containing negative or zero values.'), true);\n\t\t\telse throw new TypeError(_t('geometric progression can\\'t be applied with a serie containing negative or zero values.'));\n\t    \treturn;\n\t    }\n\n\t    var a = Array();\n\t    var tmpMin = this.min();\n\t    var tmpMax = this.max();\n\n\t    var logMax = Math.log(tmpMax) / Math.LN10; // max decimal logarithm (or base 10)\n\t    var logMin = Math.log(tmpMin) / Math.LN10;; // min decimal logarithm (or base 10)\n\n\t    var interval = (logMax - logMin) / nbClass;\n\n\t    // we compute log bounds\n\t    for (var i = 0; i < nbClass; i++) {\n\t    \tif(i == 0) {\n\t    \t\ta[i] = logMin;\n\t    \t} else {\n\t    \t\ta[i] = a[i-1] + interval;\n\t    \t}\n\t    }\n\n\t    // we compute antilog\n\t    a = a.map(function(x) { return Math.pow(10, x); });\n\n\t    // and we finally add max value\n\t    a.push(this.max());\n\n\t    this.setBounds(a);\n\t    this.setRanges();\n\n\t    // we specify the classification method\n\t    this.method = _t('geometric progression') + ' (' + nbClass + ' ' + _t('classes') + ')';\n\n\t    return this.bounds;\n\t};\n\n\t/**\n\t * Arithmetic Progression classification\n\t * http://en.wikipedia.org/wiki/Arithmetic_progression\n\t * Return an array with bounds : ie array(0,\n\t * 0.75, 1.5, 2.25, 3);\n\t */\n\tthis.getClassArithmeticProgression = function(nbClass) {\n\n\t\tvar nbClass = this._nbClassInt(nbClass); // ensure nbClass is an integer\n\n\t\tif (this._nodata())\n\t        return;\n\n\t    var denominator = 0;\n\n\t    // we compute the (french) \"Raison\"\n\t    for (var i = 1; i <= nbClass; i++) {\n\t        denominator += i;\n\t    }\n\n\t    var a = Array();\n\t    var tmpMin = this.min();\n\t    var tmpMax = this.max();\n\n\t    var interval = (tmpMax - tmpMin) / denominator;\n\n\t    for (var i = 0; i <= nbClass; i++) {\n\t    \tif(i == 0) {\n\t    \t\ta[i] = tmpMin;\n\t\t\t} else if(i == nbClass) {\n\t\t\t\ta[i] = tmpMax;\n\t\t\t} else {\n\t    \t\ta[i] = a[i-1] + (i * interval);\n\t    \t}\n\t    }\n\n\t    this.setBounds(a);\n\t    this.setRanges();\n\n\t    // we specify the classification method\n\t    this.method = _t('arithmetic progression') + ' (' + nbClass + ' ' + _t('classes') + ')';\n\n\t    return this.bounds;\n\t};\n\n\t/**\n\t * Credits : Doug Curl (javascript) and Daniel J Lewis (python implementation)\n\t * http://www.arcgis.com/home/item.html?id=0b633ff2f40d412995b8be377211c47b\n\t * http://danieljlewis.org/2010/06/07/jenks-natural-breaks-algorithm-in-python/\n\t */\n\tthis.getClassJenks2 = function(nbClass) {\n\n\t\tvar nbClass = this._nbClassInt(nbClass); // ensure nbClass is an integer\n\n\t\tif (this._nodata())\n\t\t\treturn;\n\n\t\tthis._classificationCheck(nbClass); // be sure number of classes is valid\n\n\t\tvar dataList = this.sorted();\n\n\t\t// now iterate through the datalist:\n\t\t// determine mat1 and mat2\n\t\t// really not sure how these 2 different arrays are set - the code for\n\t\t// each seems the same!\n\t\t// but the effect are 2 different arrays: mat1 and mat2\n\t\tvar mat1 = []\n\t\tfor ( var x = 0, xl = dataList.length + 1; x < xl; x++) {\n\t\t\tvar temp = []\n\t\t\tfor ( var j = 0, jl = nbClass + 1; j < jl; j++) {\n\t\t\t\ttemp.push(0)\n\t\t\t}\n\t\t\tmat1.push(temp)\n\t\t}\n\n\t\tvar mat2 = []\n\t\tfor ( var i = 0, il = dataList.length + 1; i < il; i++) {\n\t\t\tvar temp2 = []\n\t\t\tfor ( var c = 0, cl = nbClass + 1; c < cl; c++) {\n\t\t\t\ttemp2.push(0)\n\t\t\t}\n\t\t\tmat2.push(temp2)\n\t\t}\n\n\t\t// absolutely no idea what this does - best I can tell, it sets the 1st\n\t\t// group in the\n\t\t// mat1 and mat2 arrays to 1 and 0 respectively\n\t\tfor ( var y = 1, yl = nbClass + 1; y < yl; y++) {\n\t\t\tmat1[0][y] = 1\n\t\t\tmat2[0][y] = 0\n\t\t\tfor ( var t = 1, tl = dataList.length + 1; t < tl; t++) {\n\t\t\t\tmat2[t][y] = Infinity\n\t\t\t}\n\t\t\tvar v = 0.0\n\t\t}\n\n\t\t// and this part - I'm a little clueless on - but it works\n\t\t// pretty sure it iterates across the entire dataset and compares each\n\t\t// value to\n\t\t// one another to and adjust the indices until you meet the rules:\n\t\t// minimum deviation\n\t\t// within a class and maximum separation between classes\n\t\tfor ( var l = 2, ll = dataList.length + 1; l < ll; l++) {\n\t\t\tvar s1 = 0.0\n\t\t\tvar s2 = 0.0\n\t\t\tvar w = 0.0\n\t\t\tfor ( var m = 1, ml = l + 1; m < ml; m++) {\n\t\t\t\tvar i3 = l - m + 1\n\t\t\t\tvar val = parseFloat(dataList[i3 - 1])\n\t\t\t\ts2 += val * val\n\t\t\t\ts1 += val\n\t\t\t\tw += 1\n\t\t\t\tv = s2 - (s1 * s1) / w\n\t\t\t\tvar i4 = i3 - 1\n\t\t\t\tif (i4 != 0) {\n\t\t\t\t\tfor ( var p = 2, pl = nbClass + 1; p < pl; p++) {\n\t\t\t\t\t\tif (mat2[l][p] >= (v + mat2[i4][p - 1])) {\n\t\t\t\t\t\t\tmat1[l][p] = i3\n\t\t\t\t\t\t\tmat2[l][p] = v + mat2[i4][p - 1]\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmat1[l][1] = 1\n\t\t\tmat2[l][1] = v\n\t\t}\n\n\t\tvar k = dataList.length\n\t\tvar kclass = []\n\n\t\t// fill the kclass (classification) array with zeros:\n\t\tfor (var i = 0; i <= nbClass; i++) {\n\t\t\tkclass.push(0);\n\t\t}\n\n\t\t// this is the last number in the array:\n\t\tkclass[nbClass] = parseFloat(dataList[dataList.length - 1])\n\t\t// this is the first number - can set to zero, but want to set to lowest\n\t\t// to use for legend:\n\t\tkclass[0] = parseFloat(dataList[0])\n\t\tvar countNum = nbClass\n\t\twhile (countNum >= 2) {\n\t\t\tvar id = parseInt((mat1[k][countNum]) - 2)\n\t\t\tkclass[countNum - 1] = dataList[id]\n\t\t\tk = parseInt((mat1[k][countNum] - 1))\n\t\t\t// spits out the rank and value of the break values:\n\t\t\t// console.log(\"id=\"+id,\"rank = \" + String(mat1[k][countNum]),\"val =\n\t\t\t// \" + String(dataList[id]))\n\t\t\t// count down:\n\t\t\tcountNum -= 1\n\t\t}\n\t\t// check to see if the 0 and 1 in the array are the same - if so, set 0\n\t\t// to 0:\n\t\tif (kclass[0] == kclass[1]) {\n\t\t\tkclass[0] = 0\n\t\t}\n\n\t\tthis.setBounds(kclass);\n\t\tthis.setRanges();\n\n\n\t\tthis.method = _t('Jenks2') + ' (' + nbClass + ' ' + _t('classes') + ')';\n\n\t\treturn this.bounds; //array of breaks\n\t}\n\n\t/**\n\t * Credits from simple-statistics library\n\t * https://github.com/simple-statistics/simple-statistics\n\t * https://gist.githubusercontent.com/tmcw/4969184/raw/cfd9572d00db6bcdc34f07b088738fc3a47846b4/simple_statistics.js\n\t */\n\tthis.getClassJenks = function(nbClass) {\n\n\t\tvar nbClass = this._nbClassInt(nbClass); // ensure nbClass is an integer\n\n\t\tif (this._nodata())\n\t\t\treturn;\n\n\t\tthis._classificationCheck(nbClass); // be sure number of classes is valid\n\n\t\tvar dataList = this.sorted();\n\n\t\t// Compute the matrices required for Jenks breaks. These matrices\n\t\t// can be used for any classing of data with `classes <= n_classes`\n\t\tvar jenksMatrices = function(data, n_classes) {\n\n\t\t\t// in the original implementation, these matrices are referred to\n\t\t\t// as `LC` and `OP`\n\t\t\t//\n\t\t\t// * lower_class_limits (LC): optimal lower class limits\n\t\t\t// * variance_combinations (OP): optimal variance combinations for all classes\n\t\t\tvar lower_class_limits = [],\n\t\t\t\tvariance_combinations = [],\n\t\t\t\t// loop counters\n\t\t\t\ti, j,\n\t\t\t\t// the variance, as computed at each step in the calculation\n\t\t\t\tvariance = 0;\n\n\t\t\t// Initialize and fill each matrix with zeroes\n\t\t\tfor (var i = 0; i < data.length + 1; i++) {\n\t\t\t\tvar tmp1 = [], tmp2 = [];\n\t\t\t\tfor (var j = 0; j < n_classes + 1; j++) {\n\t\t\t\t\ttmp1.push(0);\n\t\t\t\t\ttmp2.push(0);\n\t\t\t\t}\n\t\t\t\tlower_class_limits.push(tmp1);\n\t\t\t\tvariance_combinations.push(tmp2);\n\t\t\t}\n\n\t\t\tfor (var i = 1; i < n_classes + 1; i++) {\n\t\t\t\tlower_class_limits[1][i] = 1;\n\t\t\t\tvariance_combinations[1][i] = 0;\n\t\t\t\t// in the original implementation, 9999999 is used but\n\t\t\t\t// since Javascript has `Infinity`, we use that.\n\t\t\t\tfor (var j = 2; j < data.length + 1; j++) {\n\t\t\t\t\tvariance_combinations[j][i] = Infinity;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var l = 2; l < data.length + 1; l++) {\n\n\t\t\t\t// `SZ` originally. this is the sum of the values seen thus\n\t\t\t\t// far when calculating variance.\n\t\t\t\tvar sum = 0,\n\t\t\t\t\t// `ZSQ` originally. the sum of squares of values seen\n\t\t\t\t\t// thus far\n\t\t\t\t\tsum_squares = 0,\n\t\t\t\t\t// `WT` originally. This is the number of\n\t\t\t\t\tw = 0,\n\t\t\t\t\t// `IV` originally\n\t\t\t\t\ti4 = 0;\n\n\t\t\t\t// in several instances, you could say `Math.pow(x, 2)`\n\t\t\t\t// instead of `x * x`, but this is slower in some browsers\n\t\t\t\t// introduces an unnecessary concept.\n\t\t\t\tfor (var m = 1; m < l + 1; m++) {\n\n\t\t\t\t\t// `III` originally\n\t\t\t\t\tvar lower_class_limit = l - m + 1,\n\t\t\t\t\t\tval = data[lower_class_limit - 1];\n\n\t\t\t\t\t// here we're estimating variance for each potential classing\n\t\t\t\t\t// of the data, for each potential number of classes. `w`\n\t\t\t\t\t// is the number of data points considered so far.\n\t\t\t\t\tw++;\n\n\t\t\t\t\t// increase the current sum and sum-of-squares\n\t\t\t\t\tsum += val;\n\t\t\t\t\tsum_squares += val * val;\n\n\t\t\t\t\t// the variance at this point in the sequence is the difference\n\t\t\t\t\t// between the sum of squares and the total x 2, over the number\n\t\t\t\t\t// of samples.\n\t\t\t\t\tvariance = sum_squares - (sum * sum) / w;\n\n\t\t\t\t\ti4 = lower_class_limit - 1;\n\n\t\t\t\t\tif (i4 !== 0) {\n\t\t\t\t\t\tfor (var j = 2; j < n_classes + 1; j++) {\n\t\t\t\t\t\t\tif (variance_combinations[l][j] >=\n\t\t\t\t\t\t\t\t(variance + variance_combinations[i4][j - 1])) {\n\t\t\t\t\t\t\t\tlower_class_limits[l][j] = lower_class_limit;\n\t\t\t\t\t\t\t\tvariance_combinations[l][j] = variance +\n\t\t\t\t\t\t\t\t\tvariance_combinations[i4][j - 1];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlower_class_limits[l][1] = 1;\n\t\t\t\tvariance_combinations[l][1] = variance;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tlower_class_limits: lower_class_limits,\n\t\t\t\tvariance_combinations: variance_combinations\n\t\t\t};\n\t\t};\n\n        // get our basic matrices\n        var matrices = jenksMatrices(dataList, nbClass),\n            // we only need lower class limits here\n            lower_class_limits = matrices.lower_class_limits,\n            k = dataList.length - 1,\n            kclass = [],\n            countNum = nbClass;\n\n        // the calculation of classes will never include the upper and\n        // lower bounds, so we need to explicitly set them\n        kclass[nbClass] = dataList[dataList.length - 1];\n        kclass[0] = dataList[0];\n\n        // the lower_class_limits matrix is used as indexes into itself\n        // here: the `k` variable is reused in each iteration.\n        while (countNum > 1) {\n            kclass[countNum - 1] = dataList[lower_class_limits[k][countNum] - 2];\n            k = lower_class_limits[k][countNum] - 1;\n            countNum--;\n        }\n\n\t\tthis.setBounds(kclass);\n\t\tthis.setRanges();\n\n\n\t\tthis.method = _t('Jenks') + ' (' + nbClass + ' ' + _t('classes') + ')';\n\n\t\treturn this.bounds; //array of breaks\n\t}\n\n\n\t/**\n\t * Unique classification Return as many entries as unique values : ie array('blue', 'red', yellow')\n\t * 1.5, 2.25, 3);\n\t */\n\tthis.getClassUniqueValues = function() {\n\n\t\tif (this._nodata())\n\t\t\treturn;\n\n\t\tthis.is_uniqueValues = true;\n\n\t\tvar tmp = this.sorted(); // display in alphabetical order\n\n\t\tvar a = Array();\n\n\t\tfor (var i = 0; i < this.pop(); i++) {\n\t\t\tif(a.indexOf(tmp[i]) === -1)\n\t\t\t\ta.push(tmp[i]);\n\t\t}\n\n\t\tthis.bounds = a;\n\n\t\t// we specify the classification method\n\t\tthis.method = _t('unique values');\n\n\t\treturn a;\n\n\t};\n\n\n\t/**\n\t * Return the class of a given value.\n\t * For example value : 6\n\t * and bounds array = (0, 4, 8, 12);\n\t * Return 2\n\t */\n\tthis.getClass = function(value) {\n\n\t\tfor (var i = 0; i < this.bounds.length; i++) {\n\n\t\t\tif(this.is_uniqueValues == true) {\n\n\t\t\t\tif(value == this.bounds[i]) {\n\t\t\t\t\t// console.log(value + ' - ' + this.bounds[i] + ' returned value : ' + i);\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// parseFloat() is necessary\n\t\t\t\tif(parseFloat(value) <= this.bounds[i + 1]) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn _t(\"Unable to get value's class.\");\n\n\t};\n\n\t/**\n\t * Return the ranges array : array('0-0.75', '0.75-1.5', '1.5-2.25',\n\t * '2.25-3');\n\t */\n\tthis.getRanges = function() {\n\n\t\treturn this.ranges;\n\n\t};\n\n\t/**\n\t * Returns the number/index of this.ranges that value falls into\n\t */\n\tthis.getRangeNum = function(value) {\n\n\t\tvar bounds, i;\n\n\t\tfor (var i = 0; i < this.ranges.length; i++) {\n\t\t\tbounds = this.ranges[i].split(/ - /);\n\t\t\tif (value <= parseFloat(bounds[1])) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Compute inner ranges based on serie.\n\t * Produce discontinous ranges used for legend - return an array similar to :\n\t * array('0.00-0.74', '0.98-1.52', '1.78-2.25', '2.99-3.14');\n\t * If inner ranges already computed, return array values.\n\t */\n\tthis.getInnerRanges = function() {\n\n\t\t// if already computed, we return the result\n\t\tif(this.inner_ranges != null)\n\t\t\treturn this.inner_ranges;\n\n\n\t\tvar a = new Array();\n\t\tvar tmp = this.sorted();\n\n\t\tvar cnt = 1; // bounds array counter\n\n\t\tfor (var i = 0; i < tmp.length; i++) {\n\n\t\t\tif(i == 0) var range_firstvalue = tmp[i]; // we init first range value\n\n\t\t\tif(parseFloat(tmp[i]) > parseFloat(this.bounds[cnt])) {\n\n\t\t\t\ta[cnt - 1] = '' + range_firstvalue + this.separator + tmp[i-1];\n\n\t\t\t\tvar range_firstvalue =  tmp[i];\n\n\t\t\t\tcnt++;\n\n\t\t\t}\n\n\t\t\t// we reach the last range, we finally complete manually\n\t\t\t// and return the array\n\t\t\tif(cnt == (this.bounds.length - 1)) {\n\t\t\t\t// we set the last value\n\t\t\t\ta[cnt - 1] = '' + range_firstvalue + this.separator + tmp[tmp.length-1];\n\n\t\t\t\tthis.inner_ranges = a;\n\t\t\t\treturn this.inner_ranges;\n\t\t\t}\n\n\n\t\t}\n\n\t};\n\n\tthis.getSortedlist = function() {\n\n\t\treturn this.sorted().join(', ');\n\n\t};\n\n\t/**\n\t * Return an html legend\n\t * colors : specify an array of color (hexadecimal values)\n\t * legend :  specify a text input for the legend. By default, just displays 'legend'\n\t * counter : if not null, display counter value\n\t * callback : if not null, callback function applied on legend boundaries\n\t * mode : \tnull, 'default', 'distinct', 'discontinuous' :\n\t * \t\t\t- if mode is null, will display legend as 'default mode'\n\t * \t\t\t- 'default' : displays ranges like in ranges array (continuous values), sample :  29.26 - 378.80 / 378.80 - 2762.25 /  2762.25 - 6884.84\n\t * \t\t\t- 'distinct' : Add + 1 according to decimal precision to distinguish classes (discrete values), sample :  29.26 - 378.80 / 378.81 - 2762.25 /  2762.26 - 6884.84\n\t * \t\t\t- 'discontinuous' : indicates the range of data actually falling in each class , sample :  29.26 - 225.43 / 852.12 - 2762.20 /  3001.25 - 6884.84 / not implemented yet\n\t * order : \tnull, 'ASC', 'DESC'\n\t */\n\tthis.getHtmlLegend = function(colors, legend, counter, callback, mode, order) {\n\n\t\tvar cnt= '';\n\t\tvar elements = new Array();\n\n\t\tthis.doCount(); // we do count, even if not displayed\n\n\t\tif(colors != null) {\n\t\t\tccolors = colors;\n\t\t}\n\t\telse {\n\t\t\tccolors = this.colors;\n\t\t}\n\n\t\tif(legend != null) {\n\t\t\tlg = legend;\n\t\t}\n\t\telse {\n\t\t\tlg =  'Legend';\n\t\t}\n\n\t\tif(counter != null) {\n\t\t\tgetcounter = true;\n\t\t}\n\t\telse {\n\t\t\tgetcounter = false;\n\t\t}\n\n\t\tif(callback != null) {\n\t\t\tfn = callback;\n\t\t}\n\t\telse {\n\t\t\tfn = function(o) {return o;};\n\t\t}\n\t\tif(mode == null) {\n\t\t\tmode = 'default';\n\t\t}\n\t\tif(mode == 'discontinuous') {\n\t\t\tthis.getInnerRanges();\n\t\t\t// check if some classes are not populated / equivalent of in_array function\n\t\t\tif(this.counter.indexOf(0) !== -1) {\n\t\t    \tif(this.silent) this.log(\"[silent mode] \" + _t(\"Geostats cannot apply 'discontinuous' mode to the getHtmlLegend() method because some classes are not populated.\\nPlease switch to 'default' or 'distinct' modes. Exit!\"), true);\n\t\t\t\telse throw new TypeError(_t(\"Geostats cannot apply 'discontinuous' mode to the getHtmlLegend() method because some classes are not populated.\\nPlease switch to 'default' or 'distinct' modes. Exit!\"));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t}\n\t\tif(order !== 'DESC') order = 'ASC';\n\n\t\tif(ccolors.length < this.ranges.length) {\n\t\t\tif(this.silent) this.log(\"[silent mode] \" + _t('The number of colors should fit the number of ranges. Exit!'), true);\n\t\t\telse throw new TypeError(_t('The number of colors should fit the number of ranges. Exit!'));\n\t\t\treturn;\n\t\t}\n\n\t\tif(this.is_uniqueValues == false) {\n\n\t\t\tfor (var i = 0; i < (this.ranges.length); i++) {\n\t\t\t\tif(getcounter===true) {\n\t\t\t\t\tcnt = ' <span class=\"geostats-legend-counter\">(' + this.counter[i] + ')</span>';\n\t\t\t\t}\n\t\t\t\t//console.log(\"Ranges : \" + this.ranges[i]);\n\n\t\t\t\t// default mode\n\t\t\t\tvar tmp = this.ranges[i].split(this.separator);\n\n\t\t\t\tvar start_value = parseFloat(tmp[0]).toFixed(this.precision);\n\t\t\t\tvar end_value = parseFloat(tmp[1]).toFixed(this.precision);\n\n\n\t\t\t\t// if mode == 'distinct' and we are not working on the first value\n\t\t\t\tif(mode == 'distinct' && i != 0) {\n\n\t\t\t\t\tif(isInt(start_value)) {\n\t\t\t\t\t\tstart_value = parseInt(start_value) + 1;\n\t\t\t\t\t\t// format to float if necessary\n\t\t\t\t\t\tif(this.precisionflag == 'manual' && this.precision != 0) start_value = parseFloat(start_value).toFixed(this.precision);\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstart_value = parseFloat(start_value) + (1 / Math.pow(10,this.precision));\n\t\t\t\t\t\t// strangely the formula above return sometimes long decimal values,\n\t\t\t\t\t\t// the following instruction fix it\n\t\t\t\t\t\tstart_value = parseFloat(start_value).toFixed(this.precision);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if mode == 'discontinuous'\n\t\t\t\tif(mode == 'discontinuous') {\n\n\t\t\t\t\tvar tmp = this.inner_ranges[i].split(this.separator);\n\t\t\t\t\t// console.log(\"Ranges : \" + this.inner_ranges[i]);\n\n\t\t\t\t\tvar start_value = parseFloat(tmp[0]).toFixed(this.precision);\n\t\t\t\t\tvar end_value = parseFloat(tmp[1]).toFixed(this.precision);\n\n\t\t\t\t}\n\n\t\t\t\t// we apply callback function\n\t\t\t\tvar el = fn(start_value) + this.legendSeparator + fn(end_value);\n\n\t\t\t\tvar block = '<div><div class=\"geostats-legend-block\" style=\"background-color:' + ccolors[i] + '\"></div> ' + el + cnt + '</div>';\n\t\t\t\telements.push(block);\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// only if classification is done on unique values\n\t\t\tfor (var i = 0; i < (this.bounds.length); i++) {\n\t\t\t\tif(getcounter===true) {\n\t\t\t\t\tcnt = ' <span class=\"geostats-legend-counter\">(' + this.counter[i] + ')</span>';\n\t\t\t\t}\n\t\t\t\tvar el = fn(this.bounds[i]);\n\t\t\t\tvar block = '<div><div class=\"geostats-legend-block\" style=\"background-color:' + ccolors[i] + '\"></div> ' + el + cnt + '</div>';\n\n\t\t\t\telements.push(block);\n\t\t\t}\n\n\t\t}\n\n\t\t// do we reverse the return legend ?\n\t\tif(order === 'DESC') elements.reverse();\n\n\t\t// finally we create HTML and return it\n\t\tvar content  = '<div class=\"geostats-legend\"><div class=\"geostats-legend-title\">' + _t(lg) + '</div>';\n\t\tfor (var i = 0; i < (elements.length); i++) {\n\t\t\tcontent += elements[i];\n\t\t}\n\t\tcontent += '</div>';\n\n\t\treturn content;\n\t};\n\n\n\n\t// object constructor\n\t// At the end of script. If not setPrecision() method is not known\n\n\t// we create an object identifier for debugging\n\tthis.objectID = new Date().getUTCMilliseconds();\n\tthis.log('Creating new geostats object');\n\n\tif(typeof a !== 'undefined' && a.length > 0) {\n\t\tthis.serie = a;\n\t\tthis.setPrecision();\n\t\tthis.log('Setting serie (' + a.length + ') : ' + a.join());\n\t} else {\n\t\tthis.serie = Array();\n\n\t};\n\n\t// creating aliases on classification function for backward compatibility\n\tthis.getJenks = this.getClassJenks;\n\tthis.getJenks2 = this.getClassJenks2;\n\tthis.getGeometricProgression = this.getClassGeometricProgression;\n\tthis.getEqInterval = this.getClassEqInterval;\n\tthis.getQuantile = this.getClassQuantile;\n\tthis.getStdDeviation = this.getClassStdDeviation;\n\tthis.getUniqueValues = this.getClassUniqueValues;\n\tthis.getArithmeticProgression = this.getClassArithmeticProgression;\n\n};\n\n\nreturn geostats;\n});\n","import geostats from './geostats'\n\nL.SolrHeatmap = L.GeoJSON.extend({\n  options: {\n    solrRequestHandler: 'select',\n    type: 'geojsonGrid',\n    colors: ['#f1eef6', '#d7b5d8', '#df65b0', '#dd1c77', '#980043'],\n    maxSampleSize: Number.MAX_SAFE_INTEGER,  // for Jenks classification\n    logging: false,\n  },\n\n  initialize: function (url, options) {\n    var _this = this;\n    options = L.setOptions(_this, options);\n    _this._solrUrl = url;\n    _this._layers = {};\n    _this._getData();\n  },\n\n  onAdd: function (map) {\n    var _this = this;\n\n    // Call the parent function\n    L.GeoJSON.prototype.onAdd.call(_this, map);\n\n    map.on('moveend', function () {\n      _this._getData();\n    });\n  },\n\n  _computeHeatmapObject: function (data) {\n    var _this = this;\n    _this.facetHeatmap = data.response.facet_heatmaps[this.options.field];\n    this._computeIntArrays();\n  },\n\n  _clearLayers: function () {\n    var _this = this;\n\n    switch (_this.options.type) {\n      case 'geojsonGrid':\n        _this.clearLayers();\n        break;\n      case 'clusters':\n        _this.clusterMarkers.clearLayers();\n        break;\n      case 'heatmap':\n        _this._map.removeLayer(_this.heatmapLayer);\n        break;\n    }\n  },\n\n  _createGeojson: function () {\n    var _this = this;\n    var geojson = {};\n\n    geojson.type = 'FeatureCollection';\n    geojson.features = [];\n\n    _this.facetHeatmap.counts_ints2D.forEach(function(value, row) {\n      if (value === null) {\n        return;\n      }\n\n      value.forEach(function (val, column) {\n        if (val === 0) {\n          return;\n        }\n\n        var newFeature = {\n          type: 'Feature',\n          geometry: {\n            type: 'Polygon',\n            coordinates: [\n              [\n                [_this._minLng(column), _this._minLat(row)],\n                [_this._minLng(column), _this._maxLat(row)],\n                [_this._maxLng(column), _this._maxLat(row)],\n                [_this._maxLng(column), _this._minLat(row)],\n                [_this._minLng(column), _this._minLat(row)]\n              ]\n            ]\n          },\n          properties: {\n            count: val\n          }\n        };\n        geojson.features.push(newFeature);\n      });\n    });\n\n    _this.addData(geojson);\n    var colors = _this.options.colors;\n    if (_this.facetHeatmap.counts_ints2D && _this.facetHeatmap.counts_ints2D.length > 0) {\n      var classifications = _this._getClassifications(colors.length);\n      _this._styleByCount(classifications);\n      _this._showRenderTime();\n    }\n  },\n\n  _createHeatmap: function () {\n    var _this = this;\n    var heatmapCells = [];\n    var cellSize = _this._getCellSize() * .75;\n    var colors = _this.options.colors;\n    var classifications = _this._getClassifications(colors.length - 1);\n    var maxValue = classifications[classifications.length - 1];\n    var gradient = _this._getGradient(classifications);\n\n    _this.facetHeatmap.counts_ints2D.forEach(function(value, row) {\n      if (value === null) {\n        return;\n      }\n\n      value.forEach(function (val, column) {\n        if (val === 0) {\n          return;\n        }\n\n        var scaledValue = Math.min((val / maxValue), 1);\n        var current = [_this._minLat(row), _this._minLng(column), scaledValue];\n        heatmapCells.push(current);\n\n        // need to create options object to set gradient, blu, radius, max\n      });\n    });\n\n    // settting max due to bug\n    // http://stackoverflow.com/questions/26767722/leaflet-heat-issue-with-adding-points-with-intensity\n    var options = { max: .0001, radius: cellSize, gradient: gradient };\n    var heatmapLayer = L.heatLayer(heatmapCells, options);\n    heatmapLayer.addTo(_this._map);\n    _this.heatmapLayer = heatmapLayer;\n    _this._showRenderTime();\n  },\n\n  // heatmap display need hash of scaled counts value, color pairs\n  _getGradient: function (classifications) {\n    var gradient = {};\n    var maxValue = classifications[classifications.length - 1];\n    var colors = _this.options.colors;\n    // skip first lower bound, assumed to be 0 from Jenks\n    for (var i = 1; i < classifications.length; i++)\n  gradient[classifications[i] / maxValue] = colors[i];\n    return gradient;\n  },\n\n  // compute size of heatmap cells in pixels\n  _getCellSize: function () {\n    _this = this;\n    var mapSize = _this._map.getSize();  // should't we use solr returned map extent?\n    var widthInPixels = mapSize.x;\n    var heightInPixels = mapSize.y;\n    var heatmapRows = _this.facetHeatmap.rows;\n    var heatmapColumns = _this.facetHeatmap.columns;\n    var sizeX = widthInPixels / heatmapColumns;\n    var sizeY = heightInPixels / heatmapRows;\n    var size = Math.ceil(Math.max(sizeX, sizeY));\n    return size;\n  },\n\n  _showRenderTime: function () {\n    if (this.options.logging) {\n      var _this = this;\n      var renderTime = 'Render time: ' + (Date.now() - _this.renderStart) + ' ms';\n      console.log(renderTime);\n    }\n  },\n\n  _createClusters: function() {\n    var _this = this;\n\n    _this.clusterMarkers = new L.MarkerClusterGroup({\n      maxClusterRadius: 140,\n    });\n\n    _this.facetHeatmap.counts_ints2D.forEach(function(value, row) {\n      if (value === null) {\n        return;\n      }\n\n      value.forEach(function (val, column) {\n        if (val === 0) {\n          return;\n        }\n\n        var bounds = new L.latLngBounds([\n          [_this._minLat(row), _this._minLng(column)],\n          [_this._maxLat(row), _this._maxLng(column)],\n        ]);\n        _this.clusterMarkers.addLayer(new L.Marker(bounds.getCenter(), {\n          count: val,\n        }).bindPopup(val.toString()));\n      });\n    });\n\n    _this._map.addLayer(_this.clusterMarkers);\n    _this._showRenderTime();\n  },\n\n  _computeIntArrays: function () {\n    var _this = this;\n\n    _this.lengthX = (_this.facetHeatmap.maxX - _this.facetHeatmap.minX) / _this.facetHeatmap.columns;\n    _this.lengthY = (_this.facetHeatmap.maxY - _this.facetHeatmap.minY) / _this.facetHeatmap.rows;\n    _this._clearLayers();\n    switch (_this.options.type) {\n      case 'geojsonGrid':\n        _this._createGeojson();\n        break;\n      case 'clusters':\n        _this._createClusters();\n        break;\n      case 'heatmap':\n        _this._createHeatmap();\n        break;\n    }\n  },\n\n  _getClassifications: function (howMany) {\n    var _this = this;\n    var oneDArray = [];\n    _this.facetHeatmap.counts_ints2D.forEach(function(value, row) {\n      if (value != null) {\n        oneDArray = oneDArray.concat(value);\n      }\n    });\n\n    var sampledArray = _this._sampleCounts(oneDArray);\n\n    var series = new geostats(sampledArray);\n    var scale = _this.options.colors;\n    var classifications = series.getClassJenks(howMany - 1);\n    return classifications.reduce(function (previous, current) {\n      if (previous.indexOf(current) == -1) {\n        previous.push(current);\n      }\n\n      return previous;\n    }, []);\n  },\n\n  _styleByCount: function (classifications) {\n    var _this = this;\n    var scale = _this.options.colors.slice(this.options.colors.length - classifications.length, this.options.colors.length);\n\n    _this.eachLayer(function (layer) {\n      var color;\n      classifications.forEach(function (val, i) {\n        if (layer.feature.properties.count >= val) {\n          color = scale[i];\n        }\n      });\n\n      layer.setStyle({\n        fillColor: color,\n        fillOpacity: 0.5,\n        weight: 0,\n      });\n    });\n  },\n\n  // Jenks classification can be slow so we optionally sample the data\n  // typically any big sample of counts are much the same, don't need to classify on all of them\n  _sampleCounts: function (passedArray) {\n    const _this = this;\n    if (passedArray.length <= _this.options.maxSampleSize) {\n      return passedArray;   // array too small to sample\n    }\n\n    var maxValue = Math.max.apply(Math, passedArray);\n    var sampledArray = [];\n    var period = Math.ceil(passedArray.length / _this.options.maxSampleSize);\n    for (let i = 0; i < passedArray.length; i = i + period) {\n      sampledArray.push(passedArray[i]);\n    }\n\n    sampledArray.push(maxValue);  // make sure largest value gets in, doesn't matter much if duplicated\n    return sampledArray;\n  },\n\n  _minLng: function (column) {\n    return this.facetHeatmap.minX + (this.lengthX * column);\n  },\n\n  _minLat: function (row) {\n    return this.facetHeatmap.maxY - (this.lengthY * row) - this.lengthY;\n  },\n\n  _maxLng: function (column) {\n    return this.facetHeatmap.minX + (this.lengthX * column) + this.lengthX;\n  },\n\n  _maxLat: function (row) {\n    return this.facetHeatmap.maxY - (this.lengthY * row);\n  },\n\n  _getData: function () {\n    var _this = this;\n    var startTime = Date.now();\n\n    var url = new URL(_this._solrUrl);\n    url.searchParams.append('bbox', _this._mapViewToBbox());\n\n    fetch(url, {\n      headers: {\n        'Accept': 'application/json',\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      var totalTime = 'Solr response time: ' + (Date.now() - startTime) + ' ms';\n      if (_this.options.logging) {\n        console.log(totalTime);\n      }\n\n      _this.docsCount = data.response.numFound;\n      _this.renderStart = Date.now();\n      _this._computeHeatmapObject(data);\n      _this.fireEvent('dataAdded', data);\n    });\n  },\n\n  _mapViewToBbox: function () {\n    if (this._map === undefined) {\n      return '-180,-90,180,90';\n    }\n\n    var bounds = this._map.getBounds();\n    var wrappedSw = bounds.getSouthWest().wrap();\n    var wrappedNe = bounds.getNorthEast().wrap();\n    return [wrappedSw.lng, bounds.getSouth(), wrappedNe.lng, bounds.getNorth()].join(',');\n  },\n\n  _mapViewToEnvelope: function () {\n    if (this._map === undefined) {\n      return ':\"Intersects(ENVELOPE(-180, 180, 90, -90))\"';\n    }\n\n    var bounds = this._map.getBounds();\n    var wrappedSw = bounds.getSouthWest().wrap();\n    var wrappedNe = bounds.getNorthEast().wrap();\n    return ':\"Intersects(ENVELOPE(' + wrappedSw.lng + ', ' + wrappedNe.lng + ', ' + bounds.getNorth() + ', ' + bounds.getSouth() + '))\"';\n  },\n\n  _mapViewToWkt: function () {\n    if (this._map === undefined) {\n      return '[\"-180 -90\" TO \"180 90\"]';\n    }\n\n    var bounds = this._map.getBounds();\n    var wrappedSw = bounds.getSouthWest().wrap();\n    var wrappedNe = bounds.getNorthEast().wrap();\n    return '[\"' + wrappedSw.lng + ' ' + bounds.getSouth() + '\" TO \"' + wrappedNe.lng + ' ' + bounds.getNorth() + '\"]';\n  },\n\n  _solrQuery: function () {\n    return '/' + this.options.solrRequestHandler + '?' + this.options.field;\n  },\n});\n\nL.solrHeatmap = function (url, options) {\n  return new L.SolrHeatmap(url, options);\n};\n\n// Check if L.MarkerCluster is included\nif (typeof L.MarkerCluster !== 'undefined') {\n  L.MarkerCluster.prototype.initialize = function (group, zoom, a, b) {\n\n    L.Marker.prototype.initialize.call(this, a ? (a._cLatLng || a.getLatLng()) : new L.LatLng(0, 0), { icon: this });\n\n    this._group = group;\n    this._zoom = zoom;\n\n    this._markers = [];\n    this._childClusters = [];\n    this._childCount = 0;\n    this._iconNeedsUpdate = true;\n\n    this._bounds = new L.LatLngBounds();\n\n    if (a) {\n      this._addChild(a);\n    }\n\n    if (b) {\n      this._addChild(b);\n      this._childCount = b.options.count;\n    }\n  };\n}\n","const Basemaps = {\n  darkMatter: L.tileLayer(\n    'https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, &copy; <a href=\"http://cartodb.com/attributions\">CartoDB</a>',\n      maxZoom: 18,\n      worldCopyJump: true,\n      detectRetina: true,\n    }\n  ),\n  positron: L.tileLayer(\n    'https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, &copy; <a href=\"http://cartodb.com/attributions\">CartoDB</a>',\n      maxZoom: 18,\n      worldCopyJump: true,\n      detectRetina: true,\n    }\n  ),\n  'OpenStreetMap.HOT': L.tileLayer(\n    'https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>, Tiles courtesy of <a href=\"http://hot.openstreetmap.org/\" target=\"_blank\">Humanitarian OpenStreetMap Team</a>',\n      maxZoom: 19,\n    }\n  ),\n}\n\nexport default Basemaps\n","const Icons = {\n  default: new L.Icon.Default()\n}\n\nexport default Icons\n","const IndexView = L.Class.extend({\n  options: {},\n\n  initialize: function (el, options) {\n    var requestUrl = el.dataset.searchUrl + '&format=heatmaps';\n    var geometryField = el.dataset.geometryField;\n    var template = el.dataset.sidebarTemplate;\n    var colorRamp = JSON.parse(el.dataset.colorRamp);\n\n    // Blank out page link content first and disable pagination\n    document.querySelectorAll('#sortAndPerPage .page-links').forEach(function (links) {\n      links.innerHTML = '';\n    });\n    document.querySelectorAll('ul.pagination').forEach(function (links) {\n      links.classList.add('d-none');\n    });\n\n    var map = L.map(el.id).setView([0, 0], 1);\n    var basemap = BlacklightHeatmaps.selectBasemap(\n      el.dataset.basemapProvider\n    ).addTo(map);\n\n    var solrLayer = L.solrHeatmap(requestUrl, {\n      field: geometryField,\n      maxSampleSize: 50,\n      colors: colorRamp,\n    }).addTo(map);\n\n    var sidebar = L.control.sidebar('index-map-sidebar', {\n      position: 'right',\n    });\n\n    map.addControl(sidebar);\n\n    solrLayer.on('click', function (e) {\n      if (!sidebar.isVisible()) {\n        map.setView(e.latlng);\n      } else {\n        var point = map.project(e.latlng);\n        var offset = sidebar.getOffset();\n        var newPoint = L.point(point.x - (offset / 2), point.y);\n        map.setView(map.unproject(newPoint));\n      }\n\n      sidebar.show();\n    });\n\n    solrLayer.on('dataAdded', function (e) {\n      if (e.response && e.response.docs) {\n        var html = '';\n        e.response.docs.forEach(function (value) {\n          html += L.Util.template(template, value);\n        });\n\n        sidebar.setContent(html);\n\n        var docCount = e.response.pages.total_count;\n\n        document.querySelectorAll('#sortAndPerPage .page-links').forEach(function (links) {\n          links.innerHTML = parseInt(docCount).toLocaleString() + ' ' + (docCount == 1 ? 'item' : 'items') + ' found';\n        });\n      }\n    });\n  },\n\n  pluralize: function (count, word) {\n    switch (count) {\n      case 1:\n        return word;\n      default:\n        return word + 's';\n    }\n  },\n});\n\nexport default IndexView;\n","const ShowView = L.Class.extend({\n  options: {},\n\n  initialize: function (el, options) {\n    var json = JSON.parse(el.dataset.features);\n\n    var map = L.map(el.id).setView([0, 0], 1);\n    var basemap = BlacklightHeatmaps.selectBasemap(\n      el.dataset.basemapProvider\n    ).addTo(map);\n\n    var features = L.geoJson(json, {\n      pointToLayer: function(feature, latlng) {\n        return L.marker(latlng, {\n          icon: BlacklightHeatmaps.Icons.default\n        })\n      }\n    }).addTo(map);\n\n    map.fitBounds(features.getBounds());\n  },\n});\n\nexport default ShowView\n","import L from 'leaflet'\nimport '../../vendor/assets/javascripts/leaflet_solr_heatmap'\nimport Basemaps from './basemaps'\nimport Icons from './icons'\nimport IndexView from './viewers/index'\nimport ShowView from './viewers/show'\n\nconst BlacklightHeatmaps = L.Class.extend({\n  statics: {\n    __version__: '0.0.3',\n\n    selectBasemap: function (basemap) {\n      if (basemap && basemap !== undefined) {\n        return BlacklightHeatmaps.Basemaps[basemap];\n      } else {\n        return BlacklightHeatmaps.Basemaps.positron;\n      }\n    },\n  },\n})\n\nBlacklightHeatmaps.Basemaps = Basemaps\nBlacklightHeatmaps.Icons = Icons\nBlacklightHeatmaps.IndexView = IndexView\nBlacklightHeatmaps.indexView = function (el, options) {\n    return new IndexView(el, options)\n}\nBlacklightHeatmaps.ShowView = ShowView;\nBlacklightHeatmaps.showView = function (el, options) {\n  return new ShowView(el, options);\n};\n\nBlacklight.onLoad(function () {\n  document.querySelectorAll('[data-index-map]').forEach(function (el) {\n    BlacklightHeatmaps.indexView(el, {});\n  })\n  document.querySelectorAll('[data-show-map]').forEach(function (el) {\n    BlacklightHeatmaps.showView(el);\n  });\n})\n\nexport default BlacklightHeatmaps;\n"],"names":["BlacklightHeatmaps","L"],"mappings":"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"}